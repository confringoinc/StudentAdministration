(this.webpackJsonpstudentapp=this.webpackJsonpstudentapp||[]).push([[12],{79:function(e,t,a){"use strict";a.r(t);var c=a(32),n=a(35),s=a(0),r=a(1),l=a(7),o=a(10),i=a(36),d=a.n(i),j=a(69),b=a(74),u=a(3),m=Object(s.lazy)((function(){return Object(l.c)((function(){return Promise.all([a.e(1),a.e(16)]).then(a.bind(null,37))}))})),O=Object(s.lazy)((function(){return Object(l.c)((function(){return Promise.all([a.e(3),a.e(13)]).then(a.bind(null,71))}))})),h=Object(s.lazy)((function(){return Object(l.c)((function(){return Promise.all([a.e(3),a.e(14)]).then(a.bind(null,73))}))}));t.default=function(){var e=Object(r.h)().state,t=Object(s.useState)([]),a=Object(n.a)(t,2),i=a[0],x=a[1],p=Object(r.g)(),g={Authorization:"Bearer ".concat(e),"Content-Type":"application/x-www-form-urlencoded"};Object(s.useEffect)((function(){var e={"Content-Type":"application/x-www-form-urlencoded"},t={page:1,limit:1e4};d.a.get(l.a+"/admin/get-students",{params:t,headers:e}).then((function(e){x(e.data.data)})).catch((function(e){console.log(e)}))}),[e]);var N=Object(s.useMemo)((function(){return[{Header:"#",accessor:"index",Cell:function(e){var t=e.row;return Object(u.jsx)(u.Fragment,{children:isNaN(t.id)?"":parseInt(t.id)+1})}},{Header:"Edit",accessor:"edit",Cell:function(t){var a=t.cell;return a.row.values.enrollmentNo?Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return t=a.row.values,void p.push({pathname:"/edit/"+t.enrollmentNo,state:{token:e,data:t}});var t},children:Object(u.jsx)(b.h,{})}):""}},{Header:"Delete",accessor:"delete",Cell:function(e){var t=e.cell;return t.row.values.enrollmentNo?Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=t.row.values.enrollmentNo,void(window.confirm("Are you sure?")&&d.a.delete(l.a+"/admin/delete-student/"+e,{headers:g}).then((function(e){!0===e.data.success?window.location.reload():alert("Account deletion failed...")})).catch((function(){alert("Account deletion failed...")})));var e},children:Object(u.jsx)(b.i,{})}):""}},{Header:"Enrollment No",accessor:"enrollmentNo"},{Header:"First name",accessor:"firstName"},{Header:"Last name",accessor:"lastName"},{Header:"Semester",accessor:"semester"},{Header:"DOB",accessor:"dob"},{Header:"Gender",accessor:"gender"},{Header:"Email",accessor:"email"},{Header:"Mobile No",accessor:"mobileNo"},{Header:"Branch",accessor:"branch"},{Header:"Created At",accessor:"createdAt"},{Header:"Updated At",accessor:"updatedAt"}]}),[]),v=Object(j.useTable)({columns:N,data:i},j.useFilters,j.useGlobalFilter,j.useGroupBy,j.useSortBy,j.useExpanded,j.usePagination),f=v.getTableProps,w=v.getTableBodyProps,P=v.headerGroups,y=v.prepareRow,C=v.page,H=v.state,S=v.canPreviousPage,G=v.canNextPage,k=v.pageOptions,A=v.pageCount,F=v.gotoPage,B=v.nextPage,T=v.previousPage,E=v.setPageSize,z=v.setGlobalFilter,R=v.preGlobalFilteredRows,D=v.state,I=D.pageIndex,J=D.pageSize,L=Object(s.useState)(H.globalFilter),M=Object(n.a)(L,2),U=M[0],V=M[1];return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"navbar-brand",children:["Student",Object(u.jsx)("span",{className:"text-primary",children:"Center"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{to:"/login",children:"Log out"})})]})}),Object(u.jsxs)("div",{className:"container mt-5",children:[Object(u.jsx)("h2",{children:"Students data"}),Object(u.jsx)("div",{className:"d-flex justify-content-end",children:Object(u.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:Object(u.jsx)("input",{id:"search",className:"form-control",onChange:function(e){V(e.target.value),z(e.target.value||void 0)},value:U||"",placeholder:"Serach in ".concat(R.length," records...")})})}),Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",Object(c.a)(Object(c.a)({className:"mt-3 table table-striped align-middle"},f()),{},{children:[Object(u.jsx)("thead",{children:P.map((function(e){return Object(u.jsx)("tr",Object(c.a)(Object(c.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsxs)("th",Object(c.a)(Object(c.a)({className:"text-nowrap"},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(u.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.b,{})}):Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.e,{})}):""}),e.canGroupBy?Object(u.jsx)("span",Object(c.a)(Object(c.a)({},e.getGroupByToggleProps()),{},{children:e.isGrouped?Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.j,{})}):Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.a,{})})})):null]}))}))}))}))}),Object(u.jsx)("tbody",Object(c.a)(Object(c.a)({},w()),{},{children:C.map((function(e,t){return y(e),Object(u.jsx)("tr",Object(c.a)(Object(c.a)({},e.getRowProps()),{},{children:e.cells.map((function(t){return Object(u.jsx)("td",Object(c.a)(Object(c.a)({className:"text-nowrap"},t.getCellProps()),{},{children:t.isGrouped?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",Object(c.a)(Object(c.a)({},e.getToggleRowExpandedProps()),{},{children:e.isExpanded?Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.e,{})}):Object(u.jsx)("span",{className:"mx-2",children:Object(u.jsx)(b.d,{})})}))," ",t.render("Cell")," (",e.subRows.length,")"]}):t.isAggregated?t.render("Aggregated"):t.isPlaceholder?null:t.render("Cell")}))}))}))}))}))]}))}),Object(u.jsxs)("div",{className:"pagination mb-5 row align-items-center",children:[Object(u.jsxs)("div",{className:"col mt-3",children:["Page ",Object(u.jsxs)("span",{className:"text-weight-bold",children:[I+1," of ",k.length]})]}),Object(u.jsx)("div",{className:"col-md-4 col-6 mt-3",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsx)("label",{htmlFor:"goto",className:"col-form-label",children:"Go to page"})}),Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsx)("input",{id:"goto",className:"form-control",type:"number",defaultValue:I+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;F(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-2 col-6 mt-3",children:Object(u.jsx)("select",{className:"form-select",value:J,onChange:function(e){E(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(u.jsxs)("option",{value:e,children:["Show ",e]},e)}))})}),Object(u.jsxs)("div",{className:"col-md-auto col-6 mt-3",children:[Object(u.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return F(0)},disabled:!S,children:Object(u.jsx)(b.f,{})}),Object(u.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return T()},disabled:!S,children:Object(u.jsx)(b.c,{})}),Object(u.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return B()},disabled:!G,children:Object(u.jsx)(b.d,{})}),Object(u.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return F(A-1)},disabled:!G,children:Object(u.jsx)(b.g,{})})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Data Trends"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-6",children:Object(u.jsx)(O,{dataStudents:i})}),Object(u.jsx)("div",{className:"col-12 col-md-6",children:Object(u.jsx)(h,{dataStudents:i})})]})]})]})]}):Object(u.jsx)(m,{})}}}]);
//# sourceMappingURL=12.eda8ba2e.chunk.js.map